(this["webpackJsonptodolist-with-redux"]=this["webpackJsonptodolist-with-redux"]||[]).push([[0],{28:function(e,t,n){e.exports=n(59)},33:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),c=n.n(r),u=(n(33),n(34),n(4)),i=n(5),s=n(3),l=n.n(s),d=n(7),p=n(24),f=n.n(p).a.create({baseURL:"http://localhost:5000",timeout:1e3,headers:{}}),m=function(e){return{type:"GET_FAILURE",payload:e}},v=function(e){return{type:"POST_CREATE_TODO",payload:e}},O=function(e){return{type:"PATCH_UPDATE_TODO",payload:e}},b=function(e){return{type:"DELETE_TODO",payload:e}};function h(){return function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.get("todo").then((function(e){t({type:"GET_TODOS",payload:e.data})})).catch((function(e){t(m(e))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var E=Object(u.b)((function(e){return{todos:e.todos}}),(function(e){return{addTodo:function(t){return e(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.post("todo",{name:e.name,description:e.description}).then((function(){n(h()),n(v(e))})).catch((function(e){n(m(e))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],u=Object(a.useState)(""),s=Object(i.a)(u,2),l=s[0],d=s[1],p=Object(a.useState)(""),f=Object(i.a)(p,2),m=f[0],v=f[1];return o.a.createElement("form",{className:"form-inline"},o.a.createElement("div",{className:"form-group mb-2"},o.a.createElement("label",{htmlFor:"name",className:"sr-only"},"Name"),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",value:l,onChange:function(e){d(e.target.value),c(e.target.value.length>0&&m.length>0)}})),o.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},o.a.createElement("label",{htmlFor:"desc",className:"sr-only"},"Description"),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Description",value:m,onChange:function(e){v(e.target.value),c(l.length>0&&e.target.value.length>0)}})),o.a.createElement("button",{className:"btn btn-success mb-2",onClick:function(t){t.preventDefault(),e.addTodo({name:l,description:m}),d(""),v("")},disabled:!r},"Add"))})),j=n(1),y=Object(u.b)((function(e){return{todos:e.todos}}),(function(e){return{updateTodo:function(t){return e(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.patch("todo/".concat(e._id),{name:e.name,description:e.description}).then((function(){n(O(e))})).catch((function(e){n(m(e))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},updateStatus:function(t){return e(function(e){var t=e.id,n=e.status;return function(){var e=Object(d.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.put("todo/".concat(t),{done:n}).then((function(){a({type:"PUT_STATUS_UPDATE_TODO",payload:{id:t,status:n}})})).catch((function(e){a(m(e))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))},deleteTodo:function(t){return e(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.delete("todo/".concat(e)).then((function(){n(b(e)),n(h())})).catch((function(e){n(m(e))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.todo,n=Object(a.useState)(t.name),r=Object(i.a)(n,2),c=r[0],u=r[1],s=Object(a.useState)(t.description),l=Object(i.a)(s,2),d=l[0],p=l[1],f=Object(a.useState)(!1),m=Object(i.a)(f,2),v=m[0],O=m[1];return o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",checked:t.done,onChange:function(n){n.preventDefault();var a=t._id;e.updateStatus({id:a,status:n.target.checked})}}),v?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",value:c,onChange:function(e){return u(e.target.value)}}),o.a.createElement("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)}}),o.a.createElement("button",{onClick:function(n){n.preventDefault();var a=Object(j.a)(Object(j.a)({},t),{},{name:c,description:d});e.updateTodo(a),O(!1)}},"Update"),o.a.createElement("button",{onClick:function(){u(e.todo.name),p(e.todo.description),O(!1)}},"Cancel")):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{onDoubleClick:function(){return O(!0)}},t.name,"\xa0",t.description),o.a.createElement("button",{onClick:function(n){n.preventDefault();var a=t._id;e.deleteTodo(a)}},"Delete")))})),T=Object(u.b)((function(e){return{todos:e.todos}}),(function(e){return{initData:function(){return e(h())}}}))((function(e){return Object(a.useEffect)((function(){e.initData()}),[]),o.a.createElement("ul",null,e.todos.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement(y,{todo:e}))})))}));var g=Object(u.b)((function(e){return{severConnect:e.severConnect}}),null)((function(e){var t={color:e.severConnect?"green":"red"};return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-sm-end"},"Server status: \xa0 ",o.a.createElement("span",{style:t},e.severConnect?"Ok":"Down")),o.a.createElement("h2",{className:"text-center p-3"},"React/Redux Todo list"),o.a.createElement("div",{className:"row justify-content-center p-2"},o.a.createElement(E,null)),o.a.createElement("div",{className:"row justify-content-center p-2"},o.a.createElement(T,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=n(25),_=n(26),w=n(27),C={todos:[],severConnect:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOS":return console.log(t.payload),Object(j.a)(Object(j.a)({},e),{},{todos:t.payload,severConnect:!0});case"POST_CREATE_TODO":return Object(j.a)(Object(j.a)({},e),{},{todos:[].concat(Object(w.a)(e.todos),[t.payload]),severConnect:!0});case"PUT_STATUS_UPDATE_TODO":var n=e.todos.map((function(e){return e._id===t.payload.id?Object(j.a)(Object(j.a)({},e),{},{done:t.payload.status}):e}));return Object(j.a)(Object(j.a)({},e),{},{todos:n,severConnect:!0});case"PATCH_UPDATE_TODO":var a=e.todos.map((function(e){return e._id===t.payload._id?t.payload:e}));return Object(j.a)(Object(j.a)({},e),{},{todos:a,severConnect:!0});case"DELETE_TODO":var o=e.todos.filter((function(e){return e._id!==t.id}));return Object(j.a)(Object(j.a)({},e),{},{todos:o,severConnect:!0});case"GET_FAILURE":return Object(j.a)(Object(j.a)({},e),{},{severConnect:!1});default:return e}},S=n(6),x=Object(S.createStore)(k,Object(D.composeWithDevTools)(Object(S.applyMiddleware)(_.a)));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u.a,{store:x},o.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.409c38db.chunk.js.map