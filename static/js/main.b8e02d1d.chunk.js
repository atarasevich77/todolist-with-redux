(this["webpackJsonptodolist-with-redux"]=this["webpackJsonptodolist-with-redux"]||[]).push([[0],{23:function(e,t,n){e.exports=n(53)},28:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(6),r=n.n(c),l=(n(28),n(29),n(2)),u=n(3),i=n(20),s=n.n(i).a.create({baseURL:"http://localhost:5000",timeout:1e3,headers:{}}),m=function(e){return{type:"GET_FAILURE",payload:e}};function d(){return function(e){s.get("todo").then((function(t){e({type:"GET_TODOS",payload:t.data})})).catch((function(t){e(m(t))}))}}var f=Object(l.b)((function(e){return{todos:e.todos}}),(function(e){return{addTodo:function(t){return e(function(e){return function(t){s.post("todo",{name:e.name,description:e.description}).then((function(){t(d())})).catch((function(e){t(m(e))}))}}(t))}}}))((function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)(""),i=Object(u.a)(l,2),s=i[0],m=i[1],d=Object(a.useState)(""),f=Object(u.a)(d,2),p=f[0],v=f[1];return o.a.createElement("form",{className:"form-inline"},o.a.createElement("div",{className:"form-group mb-2"},o.a.createElement("label",{htmlFor:"name",className:"sr-only"},"Name"),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",value:s,onChange:function(e){m(e.target.value),r(e.target.value.length>0&&p.length>0)}})),o.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},o.a.createElement("label",{htmlFor:"desc",className:"sr-only"},"Description"),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Description",value:p,onChange:function(e){v(e.target.value),r(s.length>0&&e.target.value.length>0)}})),o.a.createElement("button",{className:"btn btn-success mb-2",onClick:function(t){t.preventDefault(),e.addTodo({name:s,description:p}),m(""),v("")},disabled:!c},"Add"))})),p=n(4),v=Object(l.b)((function(e){return{todos:e.todos}}),(function(e){return{updateTodo:function(t){return e(function(e){return function(t){s.patch("todo/".concat(e._id),{name:e.name,description:e.description}).then((function(){t(d())})).catch((function(e){t(m(e))}))}}(t))},updateStatus:function(t){return e(function(e){var t=e.id,n=e.status;return function(e){s.put("todo/".concat(t),{done:n}).then((function(){e(d())})).catch((function(t){e(m(t))}))}}(t))},deleteTodo:function(t){return e(function(e){return function(t){s.delete("todo/".concat(e)).then((function(){t(d())})).catch((function(e){t(m(e))}))}}(t))}}}))((function(e){var t=e.todo,n=Object(a.useState)(t.name),c=Object(u.a)(n,2),r=c[0],l=c[1],i=Object(a.useState)(t.description),s=Object(u.a)(i,2),m=s[0],d=s[1],f=Object(a.useState)(!1),v=Object(u.a)(f,2),b=v[0],h=v[1];return o.a.createElement("span",{onDoubleClick:function(){return h(!0)}},o.a.createElement("div",{className:"input-group flex-nowrap p-2"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("div",{className:"input-group-text"},o.a.createElement("input",{type:"checkbox",checked:t.done,onChange:function(n){n.preventDefault();var a=t._id;e.updateStatus({id:a,status:n.target.checked})}}))),b?o.a.createElement("input",{type:"text",className:"form-control",value:r,onChange:function(e){return l(e.target.value)}}):o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",className:"form-control",value:t.name,readOnly:"readonly"}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-secondary",onClick:function(n){n.preventDefault();var a=t._id;e.deleteTodo(a)}},"Delete")))),b?o.a.createElement(o.a.Fragment,null,o.a.createElement("textarea",{className:"form-control",value:m,onChange:function(e){return d(e.target.value)}}),o.a.createElement("div",{className:"row justify-content-end"},o.a.createElement("button",{className:"btn btn-success m-2",onClick:function(n){n.preventDefault();var a=Object(p.a)(Object(p.a)({},t),{},{name:r,description:m});e.updateTodo(a),h(!1)}},"Update"),o.a.createElement("button",{className:"btn btn-secondary m-2",onClick:function(){l(e.todo.name),d(e.todo.description),h(!1)}},"Cancel"))):o.a.createElement("textarea",{className:"form-control-plaintext pl-2",value:t.description,readOnly:"readonly"}))})),b=Object(l.b)((function(e){return{todos:e.todos}}),(function(e){return{initData:function(){return e(d())}}}))((function(e){return Object(a.useEffect)((function(){e.initData()}),[]),o.a.createElement("ul",{className:"list-group w-75"},e.todos.map((function(e,t){return o.a.createElement("li",{key:t,className:"list-group-item"},o.a.createElement(v,{todo:e}))})))}));var h=Object(l.b)((function(e){return{severConnect:e.severConnect}}),null)((function(e){var t={color:e.severConnect?"green":"red"};return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-sm-end"},"Server status: \xa0 ",o.a.createElement("span",{style:t},e.severConnect?"Ok":"Down")),o.a.createElement("h2",{className:"text-center p-3"},"React/Redux Todo list"),o.a.createElement("div",{className:"row justify-content-center p-2"},o.a.createElement(f,null)),o.a.createElement("div",{className:"row justify-content-center p-2"},o.a.createElement(b,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(21),g=n(22),O={todos:[],severConnect:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOS":return Object(p.a)(Object(p.a)({},e),{},{todos:t.payload,severConnect:!0});case"GET_FAILURE":return Object(p.a)(Object(p.a)({},e),{},{severConnect:!1});default:return e}},N=n(5),y=Object(N.createStore)(j,Object(E.composeWithDevTools)(Object(N.applyMiddleware)(g.a)));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:y},o.a.createElement(h,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.b8e02d1d.chunk.js.map